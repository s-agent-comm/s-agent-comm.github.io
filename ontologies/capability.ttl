@prefix cap: <https://ns.slashlife.ai/agent/capability#> .
@prefix core: <https://ns.slashlife.ai/agent/core#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

#################################################################
# Ontology Header
#################################################################

<https://ns.slashlife.ai/agent/capability>
    a owl:Ontology ;
    dct:title "Capability Ontology" ;
    dct:description "Defines the structure for AI Agent capabilities, separating high-level semantic capabilities from low-level, executable skills." ;
    dct:modified "2025-11-13"^^xsd:date ;
    owl:versionInfo "0.3.0" ;
    owl:imports <https://ns.slashlife.ai/agent/core> .

#################################################################
# Core Classes: Capability, Skill, Parameter
#################################################################

cap:Capability a owl:Class ;
    rdfs:subClassOf core:Capability ;
    rdfs:label "Capability" ;
    rdfs:comment "A semantic, high-level description of a functional competence, designed for natural language understanding and fuzzy matching by LLMs." .

cap:Skill a owl:Class ;
    rdfs:label "Skill" ;
    rdfs:comment "An atomic, machine-executable operation with defined parameters. A Capability is composed of one or more Skills." .

cap:Parameter a owl:Class ;
    rdfs:label "Parameter" ;
    rdfs:comment "Defines a parameter for a Skill, including its name and type." .

#################################################################
# Capability Properties
#################################################################

cap:capabilityExpression a owl:DatatypeProperty ;
    rdfs:domain cap:Capability ;
    rdfs:range xsd:string ;
    rdfs:label "capabilityExpression" ;
    rdfs:comment "A natural language expression (e.g., a list of keywords) representing the semantic fingerprint of the capability, used for vector embedding and fuzzy matching." .

cap:capabilityConfidence a owl:DatatypeProperty ;
    rdfs:domain cap:Capability ;
    rdfs:range xsd:float ;
    rdfs:label "capabilityConfidence" ;
    rdfs:comment "The agent's self-assessed confidence in its ability to perform this capability, ranging from 0.0 to 1.0." .

cap:hasSkill a owl:ObjectProperty ;
    rdfs:domain cap:Capability ;
    rdfs:range cap:Skill ;
    rdfs:label "hasSkill" ;
    rdfs:comment "Links a high-level Capability to one or more atomic, executable Skills that implement it." .

#################################################################
# Skill Properties
#################################################################

cap:skillId a owl:DatatypeProperty ;
    rdfs:domain cap:Skill ;
    rdfs:range xsd:string ;
    rdfs:label "skillId" .

cap:description a owl:DatatypeProperty ;
    rdfs:domain cap:Skill ;
    rdfs:range xsd:string ;
    rdfs:label "description" .

cap:hasParameter a owl:ObjectProperty ;
    rdfs:domain cap:Skill ;
    rdfs:range cap:Parameter ;
    rdfs:label "hasParameter" .

cap:dependsOnSkill a owl:ObjectProperty ;
    rdfs:domain cap:Skill ;
    rdfs:range cap:Skill ;
    rdfs:label "dependsOnSkill" ;
    rdfs:comment "Declares skill-level dependencies." .

#################################################################
# Parameter Properties
#################################################################

cap:parameterName a owl:DatatypeProperty ;
    rdfs:domain cap:Parameter ;
    rdfs:range xsd:string ;
    rdfs:label "parameterName" .

cap:parameterType a owl:DatatypeProperty ;
    rdfs:domain cap:Parameter ;
    rdfs:range xsd:string ;
    rdfs:label "parameterType" .

#################################################################
# Constraints & Provenance (Unchanged)
#################################################################

cap:CapabilityConstraint a owl:Class ;
    rdfs:label "CapabilityConstraint" ;
    rdfs:comment "Restrictions on the use of a capability, including safety, context limitations, or policy-bound execution gates." .

cap:hasConstraint a owl:ObjectProperty ;
    rdfs:domain cap:Capability ;
    rdfs:range cap:CapabilityConstraint ;
    rdfs:label "hasConstraint" .

cap:allowedContext a owl:DatatypeProperty ;
    rdfs:domain cap:CapabilityConstraint ;
    rdfs:range xsd:string ;
    rdfs:label "allowedContext" ;
    rdfs:comment "Context(s) in which capability execution is permitted." .

cap:prohibitedContext a owl:DatatypeProperty ;
    rdfs:domain cap:CapabilityConstraint ;
    rdfs:range xsd:string ;
    rdfs:label "prohibitedContext" .

cap:requiresPermission a owl:DatatypeProperty ;
    rdfs:domain cap:CapabilityConstraint ;
    rdfs:range xsd:string ;
    rdfs:label "requiresPermission" .

cap:CapabilityProvenance a owl:Class ;
    rdfs:label "CapabilityProvenance" ;
    rdfs:comment "Captures origin, version, or derivation lineage of a capability." .

cap:provenance a owl:ObjectProperty ;
    rdfs:domain cap:Capability ;
    rdfs:range cap:CapabilityProvenance ;
    rdfs:label "provenance" .

cap:sourceSpec a owl:DatatypeProperty ;
    rdfs:domain cap:CapabilityProvenance ;
    rdfs:range xsd:anyURI ;
    rdfs:label "sourceSpec" .

cap:capabilityVersion a owl:DatatypeProperty ;
    rdfs:domain cap:CapabilityProvenance ;
    rdfs:range xsd:string ;
    rdfs:label "capabilityVersion" .